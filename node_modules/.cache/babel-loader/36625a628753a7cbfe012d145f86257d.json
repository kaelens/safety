{"ast":null,"code":"const mapWorkspaces = require('@npmcli/map-workspaces');\n\nconst _appendWorkspaces = Symbol('appendWorkspaces'); // shared ref used by other mixins/Arborist\n\n\nconst _loadWorkspaces = Symbol.for('loadWorkspaces');\n\nconst _loadWorkspacesVirtual = Symbol.for('loadWorkspacesVirtual');\n\nmodule.exports = cls => class MapWorkspaces extends cls {\n  [_appendWorkspaces](node, workspaces) {\n    if (node && workspaces.size) node.workspaces = workspaces;\n    return node;\n  }\n\n  async [_loadWorkspaces](node) {\n    if (node.workspaces) return node;\n    const workspaces = await mapWorkspaces({\n      cwd: node.path,\n      pkg: node.package\n    });\n    return this[_appendWorkspaces](node, workspaces);\n  }\n\n  [_loadWorkspacesVirtual](opts) {\n    return mapWorkspaces.virtual(opts);\n  }\n\n};","map":{"version":3,"sources":["/Users/kaelen/nsc-mds/node_modules/npm/node_modules/@npmcli/arborist/lib/arborist/load-workspaces.js"],"names":["mapWorkspaces","require","_appendWorkspaces","Symbol","_loadWorkspaces","for","_loadWorkspacesVirtual","module","exports","cls","MapWorkspaces","node","workspaces","size","cwd","path","pkg","package","opts","virtual"],"mappings":"AAAA,MAAMA,aAAa,GAAGC,OAAO,CAAC,wBAAD,CAA7B;;AAEA,MAAMC,iBAAiB,GAAGC,MAAM,CAAC,kBAAD,CAAhC,C,CACA;;;AACA,MAAMC,eAAe,GAAGD,MAAM,CAACE,GAAP,CAAW,gBAAX,CAAxB;;AACA,MAAMC,sBAAsB,GAAGH,MAAM,CAACE,GAAP,CAAW,uBAAX,CAA/B;;AAEAE,MAAM,CAACC,OAAP,GAAiBC,GAAG,IAAI,MAAMC,aAAN,SAA4BD,GAA5B,CAAgC;AACpC,GAAjBP,iBAAiB,EAAGS,IAAH,EAASC,UAAT,EAAqB;AACrC,QAAID,IAAI,IAAIC,UAAU,CAACC,IAAvB,EACEF,IAAI,CAACC,UAAL,GAAkBA,UAAlB;AAEF,WAAOD,IAAP;AACD;;AAEqB,SAAfP,eAAe,EAAGO,IAAH,EAAS;AAC7B,QAAIA,IAAI,CAACC,UAAT,EACE,OAAOD,IAAP;AAEF,UAAMC,UAAU,GAAG,MAAMZ,aAAa,CAAC;AACrCc,MAAAA,GAAG,EAAEH,IAAI,CAACI,IAD2B;AAErCC,MAAAA,GAAG,EAAEL,IAAI,CAACM;AAF2B,KAAD,CAAtC;AAKA,WAAO,KAAKf,iBAAL,EAAwBS,IAAxB,EAA8BC,UAA9B,CAAP;AACD;;AAEsB,GAAtBN,sBAAsB,EAAGY,IAAH,EAAS;AAC9B,WAAOlB,aAAa,CAACmB,OAAd,CAAsBD,IAAtB,CAAP;AACD;;AAtBqD,CAAxD","sourcesContent":["const mapWorkspaces = require('@npmcli/map-workspaces')\n\nconst _appendWorkspaces = Symbol('appendWorkspaces')\n// shared ref used by other mixins/Arborist\nconst _loadWorkspaces = Symbol.for('loadWorkspaces')\nconst _loadWorkspacesVirtual = Symbol.for('loadWorkspacesVirtual')\n\nmodule.exports = cls => class MapWorkspaces extends cls {\n  [_appendWorkspaces] (node, workspaces) {\n    if (node && workspaces.size)\n      node.workspaces = workspaces\n\n    return node\n  }\n\n  async [_loadWorkspaces] (node) {\n    if (node.workspaces)\n      return node\n\n    const workspaces = await mapWorkspaces({\n      cwd: node.path,\n      pkg: node.package,\n    })\n\n    return this[_appendWorkspaces](node, workspaces)\n  }\n\n  [_loadWorkspacesVirtual] (opts) {\n    return mapWorkspaces.virtual(opts)\n  }\n}\n"]},"metadata":{},"sourceType":"script"}