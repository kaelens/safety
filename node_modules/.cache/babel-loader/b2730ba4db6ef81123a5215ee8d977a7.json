{"ast":null,"code":"const calculateDelta = (now, date) => Math.round(Math.abs(now - date) / 1000);\n\nexport default function relativeDateFactory(translations) {\n  return function relativeDate(date, now = new Date()) {\n    if (!(date instanceof Date)) {\n      date = new Date(date);\n    }\n\n    let delta = null;\n    const minute = 60;\n    const hour = minute * 60;\n    const day = hour * 24;\n    const week = day * 7;\n    const month = day * 30;\n    const year = day * 365;\n    delta = calculateDelta(now, date);\n\n    if (delta > day && delta < week) {\n      date = new Date(date.getFullYear(), date.getMonth(), date.getDate(), 0, 0, 0);\n      delta = calculateDelta(now, date);\n    }\n\n    const translate = (translatePhrase, timeValue) => {\n      let key;\n\n      if (translatePhrase === 'justNow') {\n        key = translatePhrase;\n      } else if (now >= date) {\n        key = `${translatePhrase}Ago`;\n      } else {\n        key = `${translatePhrase}FromNow`;\n      }\n\n      const translation = translations[key];\n\n      if (typeof translation === 'function') {\n        return translation(timeValue);\n      }\n\n      return translation.replace('{{time}}', timeValue);\n    };\n\n    switch (false) {\n      case !(delta < 30):\n        return translate('justNow');\n\n      case !(delta < minute):\n        return translate('seconds', delta);\n\n      case !(delta < 2 * minute):\n        return translate('aMinute');\n\n      case !(delta < hour):\n        return translate('minutes', Math.floor(delta / minute));\n\n      case Math.floor(delta / hour) !== 1:\n        return translate('anHour');\n\n      case !(delta < day):\n        return translate('hours', Math.floor(delta / hour));\n\n      case !(delta < day * 2):\n        return translate('aDay');\n\n      case !(delta < week):\n        return translate('days', Math.floor(delta / day));\n\n      case Math.floor(delta / week) !== 1:\n        return translate('aWeek');\n\n      case !(delta < month):\n        return translate('weeks', Math.floor(delta / week));\n\n      case Math.floor(delta / month) !== 1:\n        return translate('aMonth');\n\n      case !(delta < year):\n        return translate('months', Math.floor(delta / month));\n\n      case Math.floor(delta / year) !== 1:\n        return translate('aYear');\n\n      default:\n        return translate('overAYear');\n    }\n  };\n}","map":{"version":3,"sources":["/Users/kaelen/nsc-mds/node_modules/npm/node_modules/tiny-relative-date/src/factory.js"],"names":["calculateDelta","now","date","Math","round","abs","relativeDateFactory","translations","relativeDate","Date","delta","minute","hour","day","week","month","year","getFullYear","getMonth","getDate","translate","translatePhrase","timeValue","key","translation","replace","floor"],"mappings":"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","sourcesContent":["const calculateDelta = (now, date) => Math.round(Math.abs(now - date) / 1000)\n\nexport default function relativeDateFactory (translations) {\n  return function relativeDate (date, now = new Date()) {\n    if (!(date instanceof Date)) {\n      date = new Date(date)\n    }\n\n    let delta = null\n\n    const minute = 60\n    const hour = minute * 60\n    const day = hour * 24\n    const week = day * 7\n    const month = day * 30\n    const year = day * 365\n\n    delta = calculateDelta(now, date)\n\n    if (delta > day && delta < week) {\n      date = new Date(date.getFullYear(), date.getMonth(), date.getDate(), 0, 0, 0)\n      delta = calculateDelta(now, date)\n    }\n\n    const translate = (translatePhrase, timeValue) => {\n      let key\n\n      if (translatePhrase === 'justNow') {\n        key = translatePhrase\n      } else if (now >= date) {\n        key = `${translatePhrase}Ago`\n      } else {\n        key = `${translatePhrase}FromNow`\n      }\n\n      const translation = translations[key]\n\n      if (typeof translation === 'function') {\n        return translation(timeValue)\n      }\n\n      return translation.replace('{{time}}', timeValue)\n    }\n\n    switch (false) {\n      case !(delta < 30):\n        return translate('justNow')\n\n      case !(delta < minute):\n        return translate('seconds', delta)\n\n      case !(delta < 2 * minute):\n        return translate('aMinute')\n\n      case !(delta < hour):\n        return translate('minutes', Math.floor(delta / minute))\n\n      case Math.floor(delta / hour) !== 1:\n        return translate('anHour')\n\n      case !(delta < day):\n        return translate('hours', Math.floor(delta / hour))\n\n      case !(delta < day * 2):\n        return translate('aDay')\n\n      case !(delta < week):\n        return translate('days', Math.floor(delta / day))\n\n      case Math.floor(delta / week) !== 1:\n        return translate('aWeek')\n\n      case !(delta < month):\n        return translate('weeks', Math.floor(delta / week))\n\n      case Math.floor(delta / month) !== 1:\n        return translate('aMonth')\n\n      case !(delta < year):\n        return translate('months', Math.floor(delta / month))\n\n      case Math.floor(delta / year) !== 1:\n        return translate('aYear')\n\n      default:\n        return translate('overAYear')\n    }\n  }\n}\n"]},"metadata":{},"sourceType":"module"}