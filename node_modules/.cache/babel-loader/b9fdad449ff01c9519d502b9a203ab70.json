{"ast":null,"code":"const log = require('npmlog');\n\nlet pulseTimer = null;\n\nconst withPromise = async promise => {\n  pulseStart();\n\n  try {\n    return await promise;\n  } finally {\n    pulseStop();\n  }\n};\n\nconst pulseStart = () => {\n  pulseTimer = pulseTimer || setInterval(() => {\n    log.gauge.pulse('');\n  }, 150);\n};\n\nconst pulseStop = () => {\n  clearInterval(pulseTimer);\n  pulseTimer = null;\n};\n\nmodule.exports = {\n  withPromise\n};","map":{"version":3,"sources":["/Users/kaelen/nsc-mds/node_modules/npm/lib/utils/pulse-till-done.js"],"names":["log","require","pulseTimer","withPromise","promise","pulseStart","pulseStop","setInterval","gauge","pulse","clearInterval","module","exports"],"mappings":"AAAA,MAAMA,GAAG,GAAGC,OAAO,CAAC,QAAD,CAAnB;;AAEA,IAAIC,UAAU,GAAG,IAAjB;;AACA,MAAMC,WAAW,GAAG,MAAOC,OAAP,IAAmB;AACrCC,EAAAA,UAAU;;AACV,MAAI;AACF,WAAO,MAAMD,OAAb;AACD,GAFD,SAEU;AACRE,IAAAA,SAAS;AACV;AACF,CAPD;;AASA,MAAMD,UAAU,GAAG,MAAM;AACvBH,EAAAA,UAAU,GAAGA,UAAU,IAAIK,WAAW,CAAC,MAAM;AAC3CP,IAAAA,GAAG,CAACQ,KAAJ,CAAUC,KAAV,CAAgB,EAAhB;AACD,GAFqC,EAEnC,GAFmC,CAAtC;AAGD,CAJD;;AAMA,MAAMH,SAAS,GAAG,MAAM;AACtBI,EAAAA,aAAa,CAACR,UAAD,CAAb;AACAA,EAAAA,UAAU,GAAG,IAAb;AACD,CAHD;;AAKAS,MAAM,CAACC,OAAP,GAAiB;AACfT,EAAAA;AADe,CAAjB","sourcesContent":["const log = require('npmlog')\n\nlet pulseTimer = null\nconst withPromise = async (promise) => {\n  pulseStart()\n  try {\n    return await promise\n  } finally {\n    pulseStop()\n  }\n}\n\nconst pulseStart = () => {\n  pulseTimer = pulseTimer || setInterval(() => {\n    log.gauge.pulse('')\n  }, 150)\n}\n\nconst pulseStop = () => {\n  clearInterval(pulseTimer)\n  pulseTimer = null\n}\n\nmodule.exports = {\n  withPromise,\n}\n"]},"metadata":{},"sourceType":"script"}