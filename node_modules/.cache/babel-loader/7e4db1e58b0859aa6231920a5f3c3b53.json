{"ast":null,"code":"const npa = require('npm-package-arg'); // extracted from npm v6 lib/install/realize-shrinkwrap-specifier.js\n\n\nconst specFromLock = (name, lock, where) => {\n  try {\n    if (lock.version) {\n      const spec = npa.resolve(name, lock.version, where);\n      if (lock.integrity || spec.type === 'git') return spec;\n    }\n\n    if (lock.from) {\n      // legacy metadata includes \"from\", but not integrity\n      const spec = npa.resolve(name, lock.from, where);\n      if (spec.registry && lock.version) return npa.resolve(name, lock.version, where);else if (!lock.resolved) return spec;\n    }\n\n    if (lock.resolved) return npa.resolve(name, lock.resolved, where);\n  } catch (_) {}\n\n  try {\n    return npa.resolve(name, lock.version, where);\n  } catch (_) {\n    return {};\n  }\n};\n\nmodule.exports = specFromLock;","map":{"version":3,"sources":["/Users/kaelen/nsc-mds/node_modules/npm/node_modules/@npmcli/arborist/lib/spec-from-lock.js"],"names":["npa","require","specFromLock","name","lock","where","version","spec","resolve","integrity","type","from","registry","resolved","_","module","exports"],"mappings":"AAAA,MAAMA,GAAG,GAAGC,OAAO,CAAC,iBAAD,CAAnB,C,CAEA;;;AACA,MAAMC,YAAY,GAAG,CAACC,IAAD,EAAOC,IAAP,EAAaC,KAAb,KAAuB;AAC1C,MAAI;AACF,QAAID,IAAI,CAACE,OAAT,EAAkB;AAChB,YAAMC,IAAI,GAAGP,GAAG,CAACQ,OAAJ,CAAYL,IAAZ,EAAkBC,IAAI,CAACE,OAAvB,EAAgCD,KAAhC,CAAb;AACA,UAAID,IAAI,CAACK,SAAL,IAAkBF,IAAI,CAACG,IAAL,KAAc,KAApC,EACE,OAAOH,IAAP;AACH;;AACD,QAAIH,IAAI,CAACO,IAAT,EAAe;AACb;AACA,YAAMJ,IAAI,GAAGP,GAAG,CAACQ,OAAJ,CAAYL,IAAZ,EAAkBC,IAAI,CAACO,IAAvB,EAA6BN,KAA7B,CAAb;AACA,UAAIE,IAAI,CAACK,QAAL,IAAiBR,IAAI,CAACE,OAA1B,EACE,OAAON,GAAG,CAACQ,OAAJ,CAAYL,IAAZ,EAAkBC,IAAI,CAACE,OAAvB,EAAgCD,KAAhC,CAAP,CADF,KAEK,IAAI,CAACD,IAAI,CAACS,QAAV,EACH,OAAON,IAAP;AACH;;AACD,QAAIH,IAAI,CAACS,QAAT,EACE,OAAOb,GAAG,CAACQ,OAAJ,CAAYL,IAAZ,EAAkBC,IAAI,CAACS,QAAvB,EAAiCR,KAAjC,CAAP;AACH,GAhBD,CAgBE,OAAOS,CAAP,EAAU,CAAG;;AACf,MAAI;AACF,WAAOd,GAAG,CAACQ,OAAJ,CAAYL,IAAZ,EAAkBC,IAAI,CAACE,OAAvB,EAAgCD,KAAhC,CAAP;AACD,GAFD,CAEE,OAAOS,CAAP,EAAU;AACV,WAAO,EAAP;AACD;AACF,CAvBD;;AAyBAC,MAAM,CAACC,OAAP,GAAiBd,YAAjB","sourcesContent":["const npa = require('npm-package-arg')\n\n// extracted from npm v6 lib/install/realize-shrinkwrap-specifier.js\nconst specFromLock = (name, lock, where) => {\n  try {\n    if (lock.version) {\n      const spec = npa.resolve(name, lock.version, where)\n      if (lock.integrity || spec.type === 'git')\n        return spec\n    }\n    if (lock.from) {\n      // legacy metadata includes \"from\", but not integrity\n      const spec = npa.resolve(name, lock.from, where)\n      if (spec.registry && lock.version)\n        return npa.resolve(name, lock.version, where)\n      else if (!lock.resolved)\n        return spec\n    }\n    if (lock.resolved)\n      return npa.resolve(name, lock.resolved, where)\n  } catch (_) { }\n  try {\n    return npa.resolve(name, lock.version, where)\n  } catch (_) {\n    return {}\n  }\n}\n\nmodule.exports = specFromLock\n"]},"metadata":{},"sourceType":"script"}