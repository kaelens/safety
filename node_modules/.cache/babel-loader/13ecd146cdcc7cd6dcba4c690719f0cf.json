{"ast":null,"code":"// we know it's global and/or not top, so the path has to be\n// {prefix}/node_modules/{name}.  Can't rely on pkg.name, because\n// it might be installed as an alias.\nconst {\n  dirname,\n  basename\n} = require('path'); // this gets called a lot and can't change, so memoize it\n\n\nconst memo = new Map();\n\nmodule.exports = path => {\n  if (memo.has(path)) return memo.get(path);\n  const scopeOrNm = dirname(path);\n  const nm = basename(scopeOrNm) === 'node_modules' ? scopeOrNm : dirname(scopeOrNm);\n  memo.set(path, nm);\n  return nm;\n};","map":{"version":3,"sources":["/Users/kaelen/nsc-mds/node_modules/npm/node_modules/bin-links/lib/get-node-modules.js"],"names":["dirname","basename","require","memo","Map","module","exports","path","has","get","scopeOrNm","nm","set"],"mappings":"AAAA;AACA;AACA;AAEA,MAAM;AAACA,EAAAA,OAAD;AAAUC,EAAAA;AAAV,IAAsBC,OAAO,CAAC,MAAD,CAAnC,C,CACA;;;AACA,MAAMC,IAAI,GAAG,IAAIC,GAAJ,EAAb;;AACAC,MAAM,CAACC,OAAP,GAAiBC,IAAI,IAAI;AACvB,MAAIJ,IAAI,CAACK,GAAL,CAASD,IAAT,CAAJ,EACE,OAAOJ,IAAI,CAACM,GAAL,CAASF,IAAT,CAAP;AAEF,QAAMG,SAAS,GAAGV,OAAO,CAACO,IAAD,CAAzB;AACA,QAAMI,EAAE,GAAGV,QAAQ,CAACS,SAAD,CAAR,KAAwB,cAAxB,GAAyCA,SAAzC,GACPV,OAAO,CAACU,SAAD,CADX;AAGAP,EAAAA,IAAI,CAACS,GAAL,CAASL,IAAT,EAAeI,EAAf;AACA,SAAOA,EAAP;AACD,CAVD","sourcesContent":["// we know it's global and/or not top, so the path has to be\n// {prefix}/node_modules/{name}.  Can't rely on pkg.name, because\n// it might be installed as an alias.\n\nconst {dirname, basename} = require('path')\n// this gets called a lot and can't change, so memoize it\nconst memo = new Map()\nmodule.exports = path => {\n  if (memo.has(path))\n    return memo.get(path)\n\n  const scopeOrNm = dirname(path)\n  const nm = basename(scopeOrNm) === 'node_modules' ? scopeOrNm\n    : dirname(scopeOrNm)\n\n  memo.set(path, nm)\n  return nm\n}\n"]},"metadata":{},"sourceType":"script"}